﻿<nav class="navbar navbar-inverse" 
  style="border-radius: 0px;margin-bottom: 0px;" 
  *ngIf="currentUser">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" routerLink="/home">ETL 2023</a>
    </div>
    <ul class="nav navbar-nav">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown"
          role="button" aria-haspopup="true" aria-expanded="false">
          Source Job <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
          <li><a routerLink="/addJob">Add Job</a></li>
          <li><a routerLink="/jobList">Job List</a></li>
          <li><a routerLink="/messageQueue">Queue Log</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown"
          role="button" aria-haspopup="true" aria-expanded="false">
          Source Task<span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
          <li><a routerLink="/addTask">Add Task</a></li>
          <li><a routerLink="/taskList">Task List</a></li>
        </ul>
      </li>
    </ul>
    <ul class="nav navbar-nav navbar-right" >
      <li class="dropdown"
        *ngIf="hasAccess(['ROLE_ADMIN', 'ROLE_MASTER_ADMIN', 'ROLE_USER'])">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown"
          role="button" aria-haspopup="true" aria-expanded="false">
          <span class="glyphicon glyphicon-cog"></span>
            Setting<span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
          <li>
            <a routerLink="/stt"
              *ngIf="hasAccess(['ROLE_ADMIN', 'ROLE_MASTER_ADMIN'])">
              <span class="glyphicon glyphicon-briefcase"></span>
              Service Setting</a>
          </li>
          <li>
            <a routerLink="/credential"
              *ngIf="hasAccess(['ROLE_ADMIN', 'ROLE_MASTER_ADMIN'])">
              <span class="glyphicon glyphicon-credit-card"></span>
              Credential Setting</a>
          </li>
          <li>
            <a routerLink="/searchengine"
              *ngIf="hasAccess(['ROLE_MASTER_ADMIN'])">
              <span class="glyphicon glyphicon-random"></span>
              Query Result</a>
          </li>
          <li>
            <a routerLink="/xmlconfig"
              *ngIf="hasAccess(['ROLE_ADMIN', 'ROLE_MASTER_ADMIN', 'ROLE_USER'])">
              <span class="glyphicon glyphicon-flash"></span>
              XML Configuration</a>
          </li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown"
          role="button" aria-haspopup="true" aria-expanded="false">
          <span class="glyphicon glyphicon-user"></span> Profile<span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
          <li>
            <a routerLink="/profile">
              <span class="glyphicon glyphicon-user"></span>
              My Profile</a>
          </li>
          <li>
            <a routerLink="/lookup" 
              *ngIf="hasAccess(['ROLE_ADMIN', 'ROLE_MASTER_ADMIN'])">
              <span class="glyphicon glyphicon-list-alt"></span>
              My Lookup Data</a>
          </li>
        </ul>
      </li>
      <li>
        <a (click)="logout()">
        <span class="glyphicon glyphicon-log-out">
        </span> Logout</a>
      </li>
    </ul>
  </div>
</nav>
<!-- main app container -->
<ol class="breadcrumb" 
  style="margin-bottom: 0px"
  *ngIf="currentUser">
  <li><a routerLink="/home">Home</a></li>
  <li *ngFor="let breadcrumb of (breadcrumbs | async)">
    <a [routerLink]="breadcrumb.url">{{ breadcrumb.label }}</a>
  </li>
  <a (click)="back()" style="float: right;">
    <span class="glyphicon glyphicon-arrow-left"></span>
  </a>
</ol>
<router-outlet></router-outlet>
<spinner></spinner>