﻿<!-- add sourceTasktype -->
<div class="modal fade" id="viewLinkJobs" role="dialog">
    <div class="modal-dialog" style="width: 90%;">
      <!-- Modal content-->
      <div class="modal-content" style="border: none">
        <div class="modal-header">
            <div class="row">
                <div class="col-md-6">
                    <h4 class="modal-title">{{VIEW_LINK_JOBS_TITLE}} {{sourceTask.taskDetailId}}</h4>
                </div>
                <div class="col-md-6">
                    <button type="button" class="close" #closeSourceTaskTaype (click)="resetSourceTaskEvent()"
                        data-dismiss="modal">&times;</button>
                    <button type="button" style="background: #a784cbab;float: right;margin-right: 5px;" 
                        *ngIf="!isFullScreen" (click)="openFullScreen()">
                        <i class="glyphicon glyphicon-resize-small"></i>
                    </button>
                    <button type="button" style="background: #a784cbab;float: right;margin-right: 5px;"
                        *ngIf="isFullScreen" (click)="closeFullScreen()">
                        <i class="glyphicon glyphicon-resize-full"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="modal-body" style="text-align: center;" *ngIf="sourceJobDetails">
            <table class="table-responsive table table-striped table-bordered table-sm"
                style="font-size: 10px;">
                <thead>
                    <tr>
                        <th># No</th>
                        <th>Job Name</th>
                        <th>Execution</th>
                        <th>Priority</th>
                        <th>Total Fail</th>
                        <th>Total Scuess</th>
                        <th>Total Skip</th>
                        <th>Last Run</th>
                        <th>R-Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let sourceJobDetail of sourceJobDetails;">
                        <td>{{sourceJobDetail.jobId}}</td>
                        <td>{{sourceJobDetail.jobName}}</td>
                        <td style="text-align: center;">
                            <span class="badge" [ngClass]="sourceJobDetail.execution == 'Manual' ? 'badge-success' : 'badge-warning'">
                                {{sourceJobDetail.execution}}
                            </span>
                        </td>
                        <td style="text-align: center;"><b>{{sourceJobDetail.priority}}</b></td>
                        <td><b>10</b></td>
                        <td><b>5</b></td>
                        <td><b>30</b></td>
                        <td>{{sourceJobDetail.lastJobRun | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                        <td>
                            <span class="badge" [ngClass]="{
                                'badge-primary': sourceJobDetail.jobRunningStatus === 'InFlight', 
                                'badge-secondary' : sourceJobDetail.jobRunningStatus === 'Queue' || sourceJobDetail.jobRunningStatus === 'Running',
                                'badge-danger' : sourceJobDetail.jobRunningStatus === 'Delete' || sourceJobDetail.jobRunningStatus === 'Failed',
                                'badge-success' : sourceJobDetail.jobRunningStatus === 'PartialComplete' || sourceJobDetail.jobRunningStatus === 'Completed'
                                }">
                                {{sourceJobDetail.jobRunningStatus}}
                            </span>
                        </td>
                    </tr>                    
                </tbody>
            </table>    
        </div>
      </div>      
    </div>
</div>